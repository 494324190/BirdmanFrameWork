@{
    ViewBag.Title = "登录";
    Layout = "~/Views/Shared/_Index.cshtml";
}
<style>
    .btn-block {
        width: 100%;
    }

        .btn-block + .btn-block {
            margin-top: 15px;
        }
</style>
<div>
    <div class="panel panel-default RegPanel center-block">
        <div class="panel-body">
            <div class="alert alert-danger alert-dismissible" style="display:none" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <strong>提示!</strong> 您输入的用户名或密码错误。
            </div>
            <form id="loginForm" style="width:100%">
                <div class="form-group pull-left" style="width:58%">
                    <input name="UserName" type="text" placeholder="用户名" class="form-control input-bottom input-block" data-bsvalidate="[{'name':'isNotNull'}]" data-validate="true" /><span></span>
                    <input id="log_paw" type="password" placeholder="密码" class="form-control input-bottom input-block" data-bsvalidate="[{'name':'isNotNull'}]" data-validate="true" /><span></span>
                    <input id="paw" type="hidden" name="Password" />
                    <br />
                    <span><input type="checkbox" /> 记住我</span>
                    <span><a href="/Other/FindPwd"> 忘记密码</a></span>
                    <button id="loginBtn" type="button" style="margin-right:24%;" class="btn btn-primary pull-right" onclick="Submit()">登录</button>
                </div>
                <div style="width:42%" class="pull-right">
                    <button id="loginBtn" type="button" class="btn btn-primary btn-block" onclick="Submit()">QQ登录</button>
                    <button id="loginBtn" type="button" class="btn btn-danger btn-block" onclick="Submit()">微博登录</button>
                    <button id="loginBtn" type="button" class="btn btn-success btn-block" onclick="Submit()">微信登录</button>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    function getUrlParam(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
        var r = window.location.search.substr(1).match(reg);  //匹配目标参数
        if (r != null)
            return unescape(r[2]);
        return null; //返回参数值
    }
    $(function () {
        $.Validate();
        if (getUrlParam("login") == "f") {
            $('[role="alert"]').toggle();
        }
    });
    function Submit() {
        if ($.SubmitValidate()) {
            $('#loginBtn').click(function () {
                $.Submit("/Base/Login", "loginForm", "", "", "/Blog/Main", "/Login/index?login=f");
            });
        }
    };
</script>